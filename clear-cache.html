<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clear Cache - Temanly</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .button {
            background: #6366f1;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            margin: 10px 5px;
            font-size: 16px;
        }
        .button:hover {
            background: #5855eb;
        }
        .success {
            color: #059669;
            font-weight: bold;
        }
        .info {
            background: #e0f2fe;
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîß Clear Cache & Fix Rating</h1>
        <p>This page will help clear any cached data that might be showing the old 4.8 rating.</p>
        
        <div class="info">
            <strong>What this will do:</strong>
            <ul>
                <li>Clear localStorage</li>
                <li>Clear sessionStorage</li>
                <li>Clear browser cache (if possible)</li>
                <li>Force refresh the page</li>
            </ul>
        </div>
        
        <button class="button" onclick="clearAllCache()">üßπ Clear All Cache</button>
        <button class="button" onclick="forceRefresh()">üîÑ Force Refresh</button>
        <button class="button" onclick="goToProfile()">üë§ Go to Profile</button>
        
        <div id="status"></div>
        
        <h3>Manual Steps:</h3>
        <ol>
            <li>Press <strong>Ctrl+Shift+R</strong> (or Cmd+Shift+R on Mac) to hard refresh</li>
            <li>Open Developer Tools (F12)</li>
            <li>Right-click the refresh button and select "Empty Cache and Hard Reload"</li>
            <li>Or go to Application tab ‚Üí Storage ‚Üí Clear site data</li>
        </ol>
    </div>

    <script>
        function clearAllCache() {
            const status = document.getElementById('status');
            status.innerHTML = '<div class="success">üßπ Clearing cache...</div>';
            
            try {
                // Clear localStorage
                localStorage.clear();
                console.log('‚úÖ localStorage cleared');
                
                // Clear sessionStorage
                sessionStorage.clear();
                console.log('‚úÖ sessionStorage cleared');
                
                // Clear any specific Temanly data
                const keysToRemove = ['bookings', 'transactions', 'user', 'auth', 'profile'];
                keysToRemove.forEach(key => {
                    localStorage.removeItem(key);
                    sessionStorage.removeItem(key);
                });
                
                status.innerHTML += '<div class="success">‚úÖ All cache cleared successfully!</div>';
                status.innerHTML += '<div class="info">Now please refresh the page or click "Force Refresh"</div>';
                
            } catch (error) {
                status.innerHTML += '<div style="color: red;">‚ùå Error clearing cache: ' + error.message + '</div>';
            }
        }
        
        function forceRefresh() {
            // Force a hard refresh
            window.location.reload(true);
        }
        
        function goToProfile() {
            // Go to Amanda's profile
            window.location.href = '/talent/9153fe0a-6b65-4011-b894-f7568b8abe44';
        }
        
        // Auto-clear cache when page loads
        window.onload = function() {
            console.log('üîß Auto-clearing cache...');
            clearAllCache();
        };
    </script>
</body>
</html>
